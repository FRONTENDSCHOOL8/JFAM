import"./reset-9GtOEJoH.js";/* empty css              */import{p as d}from"./pocketbase-v9INCz3k.js";const{localStorage:h}=window;function p(t,e){return new Promise((o,l)=>{typeof t=="string"?(h.setItem(t,JSON.stringify(e)),o()):l(new Error("key는 문자 타입 이어야 합니다."))})}const c=document.querySelector(".input-id"),s=document.querySelector(".id-input-condition"),u=document.querySelector(".input-password"),a=document.querySelector(".password-input-condition"),f=document.querySelector(".login-button"),n=document.querySelector(".auto-login-img");let i=!1,r=!1;function w(t){return/^[a-zA-Z0-9]{6,12}$/.test(String(t).toLowerCase())}function g(t){return/^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[!@#$%^*+=-]).{6,16}$/.test(String(t).toLowerCase())}const m=async(t,e)=>{try{return await d.collection("users").authWithPassword(t,e)}catch{return window.alert("일치하는 회원정보가 없습니다. 아이디, 비밀번호를 다시 확인해주세요."),!1}};function k(){i=w(c.value),i?s.textContent="":s.textContent="영문 또는 영문, 숫자 조합 6~12자리로 입력해주세요."}function v(t){const e=t.target;r=g(e.value),r?a.textContent="":a.textContent="특수문자(~!@#$%^&*) 포함 6~16자리로 입력해주세요."}async function y(t){if(i&&r){t.preventDefault();const e=await m(c.value,u.value);e?(p("auth",{isAuth:!0,userData:e}),window.location.href="/src/pages/main/index.html"):alert("일치하는 회원정보가 없습니다. 아이디, 비밀번호를 다시 확인해주세요.")}else alert("아이디나 비밀번호 형식을 맞춰주세요.")}function C(){n.id==="auto-unchecked"?(n.src="/src/assets/signup/check_filled_blue.svg",n.id="auto-checked",n.alt="체크박스 활성화"):(n.src="/src/assets/signup/check_filled_white.svg",n.id="auto-unchecked",n.alt="체크박스 비활성화")}c.addEventListener("input",k);u.addEventListener("input",v);f.addEventListener("click",y);n.addEventListener("click",C);
